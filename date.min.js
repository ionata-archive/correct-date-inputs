(function(c,a){var d=c.ION=c.ION||{},e="value",b=function(h,l){var j=[].slice.call(h,0),i=function(q,p,r,o){var n=a.createElement("input");n.type="text";n.className=l.className+" "+q;n.name=p;n[e]=r;l.addEventListener(n,"change",o);return n},m=function(p){if(g){return p.type="date"}var r=p[e].match(/^(\d{4})-(\d\d)-(\d\d)$/),o=function(){p[e]=q[e]+"-"+s[e]+"-"+n[e]},q=i("year",p.name+"__year",r&&r[1],o),s=i("month",p.name+"__month",r&&r[2],o),n=i("day",p.name+"__day",r&&r[3],o);p.parentNode.insertBefore(l.formatInputs(q,s,n),p);p.style.display="none"},k,g,f;l=l||{};for(f in b.options){if(!l[f]){l[f]=b.options[f]}}g=l.useNative();while(j.length){m(j.pop())}};d.gui=d.gui||{};d.gui.datePicker=b;b.options={useNative:function(){return Modernizr.inputtypes.date},className:"datePicker",formatInputs:function(h,i,g){var k=a.createElement("span"),j=function(){return a.createTextNode(" - ")},f=[g,j(),i,j(),h];while(f.length){k.appendChild(f.pop())}return k},addEventListener:function(g,h,j){var i="on"+h,f=g[i];g[i]=function(){f&&f.apply(this,arguments);return j.apply(this,arguments)}},}})(window,document);
